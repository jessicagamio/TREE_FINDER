{% extends 'base.html' %}

{% block content %}

{% for messages in get_flashed_messages() %}
    
<div class="alert alert-primary" role="alert">
   {{messages}}
</div>

{% endfor %}


<div id="spin" style="display:none">
  Processing Image....
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>


<div>
    <form id="image-form" action="/upload" method="POST" enctype="multipart/form-data">
      <div class="custom-file">
        <input type="file" class="custom-file-input" id="customFile"  name="upload" accept="image/*" >
        <label class="custom-file-label" for="customFile" id="diplayfile">Choose file</label>
         <br>
        <input type='submit' value='submit' id='img_submit'>
      </div>
    </form>
</div>

<script>
  const button= document.querySelector('#img_submit');

  function showSpinener(){
    const spinner = document.querySelector('#spin');
    spinner.style.display= '';
  }

  button.addEventListener('click', showSpinner);
</script>

<script>

  const displayFile=document.querySelector('#displayfile');
  const chosenFile=document.querySelector('#customFile');

  function displayFile(){
    displayfile.html(file_name)
  }

  </script>


{% endblock %}