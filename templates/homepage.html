{% extends 'base.html' %}


{% block content %}

{% for messages in get_flashed_messages() %}
    
<div class="alert alert-primary" role="alert">
   {{messages}}
</div>

{% endfor %}



<div>
    <form id="image-form" action="/upload" method="POST" enctype="multipart/form-data">
        <label>Find that tree! 
            <input type="file" name="upload" accept="image/*" >
        </label>
        <br>
        <input type='submit' value='submit' id='img_submit'>
    </form>
</div>


{#
<script>
   const imageForm = document.querySelector('#image-form');
   const fileInput = document.querySelector('input[name="upload"]');

   function popUpAlert(evt){
      $.ajax({
        type: 'POST',
        url: '/upload',
        data: {
          'upload': fileInput.files[0]
        },
        contentType: 'multipart/form-data', // set accordingly
        processData: false
      }, alert);
      evt.preventDefault();
   }

   imageForm.addEventListener('submit', popUpAlert);
    
  

</script>
#}

{% endblock %}